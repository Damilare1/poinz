$zuehlkePurple = #985b9c
$zuehlkeOrange = #ff820a
$zuehlkeDarkGrey = #4b5054
$zuehlkeLightGrey = #575d62
$zuehlkeLighterGrey = #e8e8e8
$zuehlkeFontGrey = #484e54

@font-face {
  font-family 'aa_zuehlke_otpsregular'
  src url('./aazuotps_30.12.13-webfont.woff2') format("woff2")
  font-weight normal
  font-style normal
}

body {
  color $zuehlkeFontGrey
}

#app-root {
  position absolute
  top 0
  left 0
  bottom 0
  right 0
}

.pure-button.pure-button-primary {
  background-color $zuehlkePurple
  border-radius 2px
}

a {
  color $zuehlkeOrange
}

.landing {
  background #1f8dd6
  z-index 1
  overflow hidden
  width 100%
  height 100%
  top 0
  left 0
  position fixed !important
  background url('./landing_bg_z.jpg')
  background-repeat no-repeat
  background-position left top
  background-size contain

  .eyecatcher {
    margin auto
    display flex
    justify-content center
    align-items center
    flex-direction column
    width: 400px;
    max-width 85%;
    margin-top: 20%;
    background: rgba(0, 0, 0, 0.5);
    padding: 32px;
    border-radius: 2px;

    &.loading {
      color white
      font-size larger
    }

    .preset-user-name {
      margin-top 16px
      color $zuehlkeOrange
    }

    .room-id-wrapper {
      background #fff
      padding 8px
      border 1px solid #ccc
      width 300px
      display flex
      align-items stretch
      border-radius 2px

      span {
        padding 8px 0
      }

      input {
        width 80%
        border none
        outline none
      }
    }
  }
}

.pure-form .pure-group {
  inputfirst-child, textareafirst-child {
    border-radius 2px
  }
}

.users {
  padding 16px
  padding-top 48px

  .user {
    padding 0 8px
    display inline-block
    position relative

    .avatar {
      border 2px solid $zuehlkeLightGrey
      border-radius 50%
      background white
      width 60px
      height 60px
      padding 4px
    }

    .user-name {
      text-align center
      margin 4px 0
    }

    .user-estimation {
      transition all 0.2s ease-out
      height 100px
      width 60px
      margin 0 auto
      text-align center
      padding 28px 0
      border-radius 12px
      box-sizing border-box
      font-size 28px
      border 4px dashed white
      background transparent
      color $zuehlkeLighterGrey

      font-family "aa_zuehlke_otpsregular", "Helvetica Neue", Helvetica, Arial, sans-serif

      &.user-estimation-given {
        // user has given estimation, but value is not yet shown
        border 4px solid white
        background $zuehlkeLightGrey
      }

      &.revealed {
        // all estimations are shown
        background white
        color $zuehlkeLightGrey
        border 4px solid white
      }
    }

    .moderator-badge, .visitor-badge, .disconnected-badge {
      position absolute
      top 0
      right 0
    }

    &.user-own {
      color $zuehlkeOrange
      .avatar {
        border 2px solid $zuehlkeOrange
      }
    }

    &.user-visitor {
      .user-estimation {
        // set attributes !important to override custom card color styles
        border 4px solid transparent  !important
        background transparent !important
        color transparent  !important
      }
    }

    &.user-disconnected {
      color $zuehlkeLightGrey
      .avatar {
        -webkit-filter: grayscale(100%);
        filter: gray;
      }
    }
  }
}

.top-bar {
  background-color $zuehlkeLightGrey
  color white
  z-index 1003
  position absolute
  top 0
  left 0
  right 0
  height 34px
  padding 0
  box-sizing border-box

  .whoami {
    position absolute
    right 0

    color $zuehlkeFontGrey
    .pure-menu-toggle {
      color white

      &:hover {
        background $zuehlkeDarkGrey
      }
    }

    .pure-menu-active .pure-menu-toggle {
      background $zuehlkeDarkGrey
    }
    .pure-menu-list {
      min-width 200px
    }
    .pure-menu-children {
      right 0
      min-width 200px
    }

    .username-input {
      color $zuehlkeFontGrey
      padding .5em 1em
      border none
      width 100%
      box-sizing border-box
    }

    .pure-button {
      display inline-block
      margin-left 8px
      font-size 65%
    }

    .menu-item-visitor {
      a {
        position relative
      }

      a:before {
        content " "
        border-left 3px solid $zuehlkeOrange
        position absolute
        left 0
        top 0
        bottom 0
      }
    }
  }

}

// hamburger icon
.menu-link {
  position fixed
  display block
  top 0
  left 0
  background $zuehlkeDarkGrey
  font-size 10px
  z-index 10
  width 34px
  height 34px

  .menu-link-inner {
    position relative
    display inline-block
    box-sizing border-box
    padding 8px
    height 100%
    width 100%

    span, span:before, span:after {
      background-color #fff
      width 17px
      height 0.2em
      display inline-block
    }

    span:before, span:after {
      position absolute
      margin-top -0.6em
      content " "
    }

    span:after {
      margin-top 0.6em
    }
  }

}

$backlogWidth = 300px
.board {
  transition all 0.2s ease-out
  position relative
  height 100%
  background $zuehlkeLighterGrey url('../assets/logo-zuehlke-small.png') no-repeat bottom right

  .backlog {
    transition all 0.2s ease-out
    margin-left $backlogWidth * -1
    width $backlogWidth
    position fixed
    top 0
    left 0
    bottom 0
    z-index 1000
    background $zuehlkeLightGrey
    overflow-y auto
    -webkit-overflow-scrolling touch
    box-sizing border-box
    padding 8px
    padding-top 27px

    .pure-form .pure-group {
      textarea, input {
        border-radius 0
      }
    }

    .story-hint {
      margin-top 16px
      color white
      text-align center
    }

    .stories {
      margin-top 16px

      .story {
        color white
        background $zuehlkeDarkGrey
        background #4b5054
        padding 8px 16px 16px 16px
        margin-bottom 16px
        box-sizing border-box
        border-radius 2px

        &.story-selected {
          border-left 2px solid $zuehlkeOrange
        }

        h4 {
          margin-top 8px
        }
      }
    }
  }

  &.board-moderator .backlog .stories .story {
    cursor pointer
  }

  .estimation {
    padding 16px

    .selected-story {
      background $zuehlkeDarkGrey
      color white
      padding 8px

      h4 {
        margin-top 8px
      }
    }

    .moderator-actions {
      margin-top 16px
    }

    .cards {

      .card {
        text-align center
        height 100px
        box-sizing border-box
        font-size 28px
        padding 8px
        cursor pointer
        font-family "aa_zuehlke_otpsregular", "Helvetica Neue", Helvetica, Arial, sans-serif

        .card-inner {
          background #fff
          padding 28px 0
          box-sizing border-box
          border-radius 12px
          border 4px solid white

          &hover {
            border 2px solid $zuehlkeOrange
          }
        }

        &.card-selected {
          .card-inner {
            border 2px solid $zuehlkeOrange
          }
        }
      }
    }
  }

}

.version-info {
  position fixed
  bottom 8px
  right 8px
  font-size 9px
  color white
}

// on screens bigger than 48em width
@media (min-width 48em) {

  .menu-link {
    position fixed
    left $backlogWidth
    display none
  }

  .board {
    padding-left $backlogWidth
    left 0

    .backlog {
      left $backlogWidth
    }
  }
}

// in every screen-size, if backlog-active class is set, show menu
.board .backlog.backlog-active {
  left $backlogWidth
}
